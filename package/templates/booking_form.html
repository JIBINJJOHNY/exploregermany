{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Create a New Booking</h2>
    <form method="post" class="form">
        {% csrf_token %}
        <div class="form-group">
            <label for="{{ form.user.id_for_label }}">User</label>
            {{ form.user }}
        </div>
        <div class="form-group">
            <label for="{{ form.date.id_for_label }}">Date</label>
            {{ form.date }}
        </div>
        <div class="form-group">
            <label for="{{ form.no_of_guests.id_for_label }}">Number of Guests</label>
            {{ form.no_of_guests }}
        </div>
        <div class="form-group">
            <label for="{{ form.package.id_for_label }}">Package</label>
            {{ form.package }}
        </div>
        <div class="form-group">
            <label for="{{ form.payment_method.id_for_label }}">Payment Method</label>
            {{ form.payment_method }}
        </div>
        <div class="form-group">
            <label for="{{ form.contact_email.id_for_label }}">Contact Email</label>
            {{ form.contact_email }}
        </div>
        <div class="form-group">
            <label for="{{ form.contact_phone.id_for_label }}">Contact Phone</label>
            {{ form.contact_phone }}
        </div>
        <div class="form-group">
            <label for="{{ form.special_requests.id_for_label }}">Special Requests</label>
            {{ form.special_requests }}
        </div>
        <button type="submit" class="btn btn-primary">Create Booking</button>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const noOfGuestsField = document.querySelector("#id_no_of_guests");
        const maxGuests = 6;

        noOfGuestsField.addEventListener("input", function () {
            const enteredGuests = parseInt(noOfGuestsField.value);
            if (enteredGuests > maxGuests) {
                noOfGuestsField.value = maxGuests;
                alert("Maximum number of guests is 6");
            }
        });
    });
</script>
</div>
{% endblock %}